webpackJsonp([2],{"5Hoj":function(t,n){},"RP/J":function(t,n,i){"use strict";n.b=function(t,n,i,o){void 0===o&&(o=!1);e.d||t.addEventListener(n,i,!!s&&{capture:!1,passive:o})},n.a=function(t,n,i){e.d||t.removeEventListener(n,i)},n.c=function(t,n){("boolean"!=typeof t.cancelable||t.cancelable)&&t.preventDefault();n&&function(t){t.stopPropagation()}(t)};var e=i("o69Z"),s=!1;if(!e.d)try{var o={};Object.defineProperty(o,"passive",{get:function(){s=!0}}),window.addEventListener("test-passive",null,o)}catch(t){}},gdxp:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e,s=i("bOdI"),o=i.n(s),a=(i("nI2B"),i("qWG/")),r=(i("3Lne"),i("SSsa")),u=(i("7+uW"),{components:(e={},o()(e,r.a.name,r.a),o()(e,a.a.name,a.a),e),data:function(){return{show:!1,showPicker:!1,columns:["杭州","宁波","温州","嘉兴","湖州"]}}}),h={render:function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"index-page"},[i("van-button",{attrs:{type:"primary"},on:{click:function(n){t.show=!t.show}}},[t._v("test按钮")]),t._v(" "),i("transition",{attrs:{name:"fade-translateY"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"lin-action-sheet bottom-sheet"},[i("div",{staticClass:"item"}),t._v(" "),i("div",{staticClass:"item"}),t._v(" "),i("div",{staticClass:"item"})])]),t._v(" "),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"lin-action-sheet mask",on:{click:function(n){t.show=!t.show}}})])],1)},staticRenderFns:[]};var c=i("VU/8")(u,h,!1,function(t){i("xZ71")},"data-v-4afc437d",null);n.default=c.exports},nI2B:function(t,n,i){"use strict";var e=i("nsZj"),s=(i.n(e),i("5Hoj"));i.n(s)},"qWG/":function(t,n,i){"use strict";var e=i("RfZZ"),s=i("o69Z"),o=i("RP/J"),a=i("54/E");function r(t){return Array.isArray(t)?t.map(function(t){return r(t)}):"object"==typeof t?Object(a.a)({},t):t}var u={title:String,loading:Boolean,showToolbar:Boolean,cancelButtonText:String,confirmButtonText:String,visibleItemCount:{type:Number,default:5},itemHeight:{type:Number,default:44}},h=i("LmuL"),c=i("pIDD");function l(t,n,i){return Math.min(Math.max(t,n),i)}var f=i("vwLT"),d=Object(s.f)("picker-column"),m=d[0],v=d[1];function p(t){return Object(s.c)(t)&&t.disabled}var g=m({mixins:[f.a],props:{valueKey:String,className:String,itemHeight:Number,defaultIndex:Number,initialOptions:Array,visibleItemCount:Number},data:function(){return{offset:0,duration:0,options:r(this.initialOptions),currentIndex:this.defaultIndex}},created:function(){this.$parent.children&&this.$parent.children.push(this),this.setIndex(this.currentIndex)},destroyed:function(){var t=this.$parent.children;t&&t.splice(t.indexOf(this),1)},watch:{defaultIndex:function(){this.setIndex(this.defaultIndex)}},computed:{count:function(){return this.options.length}},methods:{onTouchStart:function(t){if(this.touchStart(t),this.moving){var n=function(t){var n=window.getComputedStyle(t).transform,i=n.slice(7,n.length-1).split(", ")[5];return Number(i)}(this.$refs.wrapper);this.startOffset=Math.min(0,n)}else this.startOffset=this.offset;this.duration=0,this.moving=!1,this.transitionEndTrigger=null,this.touchStartTime=Date.now(),this.momentumOffset=this.startOffset},onTouchMove:function(t){Object(o.c)(t),this.moving=!0,this.touchMove(t),this.offset=l(this.startOffset+this.deltaY,-this.count*this.itemHeight,this.itemHeight);var n=Date.now();n-this.touchStartTime>300&&(this.touchStartTime=n,this.momentumOffset=this.offset)},onTouchEnd:function(){var t=this.offset-this.momentumOffset,n=Date.now()-this.touchStartTime;if(n<300&&Math.abs(t)>15)this.momentum(t,n);else if(this.offset!==this.startOffset){this.duration=200;var i=this.getIndexByOffset(this.offset);this.setIndex(i,!0)}},onTransitionEnd:function(){this.stopMomentum()},onClickItem:function(t){this.duration=200,this.setIndex(t,!0)},adjustIndex:function(t){for(var n=t=l(t,0,this.count);n<this.count;n++)if(!p(this.options[n]))return n;for(var i=t-1;i>=0;i--)if(!p(this.options[i]))return i},getOptionText:function(t){return Object(s.c)(t)&&this.valueKey in t?t[this.valueKey]:t},setIndex:function(t,n){var i=this;t=this.adjustIndex(t)||0,this.offset=-t*this.itemHeight;var e=function(){t!==i.currentIndex&&(i.currentIndex=t,n&&i.$emit("change",t))};this.moving?this.transitionEndTrigger=e:e()},setValue:function(t){for(var n=this.options,i=0;i<n.length;i++)if(this.getOptionText(n[i])===t)return this.setIndex(i)},getValue:function(){return this.options[this.currentIndex]},getIndexByOffset:function(t){return l(Math.round(-t/this.itemHeight),0,this.count-1)},momentum:function(t,n){var i=Math.abs(t/n);t=this.offset+i/.002*(t<0?-1:1);var e=this.getIndexByOffset(t);this.duration=1e3,this.setIndex(e,!0)},stopMomentum:function(){this.moving=!1,this.duration=0,this.transitionEndTrigger&&(this.transitionEndTrigger(),this.transitionEndTrigger=null)}},render:function(t){var n=this,i=this.itemHeight,e=i*(this.visibleItemCount-1)/2,s={transform:"translate3d(0, "+(this.offset+e)+"px, 0)",transitionDuration:this.duration+"ms",transitionProperty:this.duration?"transform":"none",lineHeight:i+"px"},o={height:i+"px"};return t("div",{class:[v(),this.className],on:{touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[t("ul",{ref:"wrapper",style:s,class:v("wrapper"),on:{transitionend:this.onTransitionEnd}},[this.options.map(function(i,e){return t("li",{style:o,class:["van-ellipsis",v("item",{disabled:p(i)})],domProps:{innerHTML:n.getOptionText(i)},on:{click:function(){n.onClickItem(e)}}})})])])}}),x=Object(s.f)("picker"),b=x[0],I=x[1],C=x[2];n.a=b({props:Object(e.a)({},u,{columns:Array,defaultIndex:Number,toolbarPosition:{type:String,default:"top"},valueKey:{type:String,default:"text"}}),data:function(){return{children:[]}},computed:{simple:function(){return this.columns.length&&!this.columns[0].values}},watch:{columns:function(){this.setColumns()}},methods:{setColumns:function(){var t=this;(this.simple?[{values:this.columns}]:this.columns).forEach(function(n,i){t.setColumnValues(i,r(n.values))})},emit:function(t){this.simple?this.$emit(t,this.getColumnValue(0),this.getColumnIndex(0)):this.$emit(t,this.getValues(),this.getIndexes())},onChange:function(t){this.simple?this.$emit("change",this,this.getColumnValue(0),this.getColumnIndex(0)):this.$emit("change",this,this.getValues(),t)},getColumn:function(t){return this.children[t]},getColumnValue:function(t){var n=this.getColumn(t);return n&&n.getValue()},setColumnValue:function(t,n){var i=this.getColumn(t);i&&i.setValue(n)},getColumnIndex:function(t){return(this.getColumn(t)||{}).currentIndex},setColumnIndex:function(t,n){var i=this.getColumn(t);i&&i.setIndex(n)},getColumnValues:function(t){return(this.children[t]||{}).options},setColumnValues:function(t,n){var i=this.children[t];i&&JSON.stringify(i.options)!==JSON.stringify(n)&&(i.options=n,i.setIndex(0))},getValues:function(){return this.children.map(function(t){return t.getValue()})},setValues:function(t){var n=this;t.forEach(function(t,i){n.setColumnValue(i,t)})},getIndexes:function(){return this.children.map(function(t){return t.currentIndex})},setIndexes:function(t){var n=this;t.forEach(function(t,i){n.setColumnIndex(i,t)})},onConfirm:function(){this.children.map(function(t){return t.stopMomentum()}),this.emit("confirm")},onCancel:function(){this.emit("cancel")}},render:function(t){var n=this,i=this.itemHeight,e=i*this.visibleItemCount,s=this.simple?[this.columns]:this.columns,a={height:i+"px"},r={height:e+"px"},u={backgroundSize:"100% "+(e-i)/2+"px"},l=this.showToolbar&&t("div",{class:["van-hairline--top-bottom",I("toolbar")]},[this.slots()||[t("div",{attrs:{role:"button",tabindex:"0"},class:I("cancel"),on:{click:this.onCancel}},[this.cancelButtonText||C("cancel")]),this.slots("title")||this.title&&t("div",{class:["van-ellipsis",I("title")]},[this.title]),t("div",{attrs:{role:"button",tabindex:"0"},class:I("confirm"),on:{click:this.onConfirm}},[this.confirmButtonText||C("confirm")])]]);return t("div",{class:I()},["top"===this.toolbarPosition?l:t(),this.loading?t(c.a,{class:I("loading"),attrs:{color:h.a}}):t(),t("div",{class:I("columns"),style:r,on:{touchmove:o.c}},[s.map(function(i,e){return t(g,{attrs:{valueKey:n.valueKey,className:i.className,itemHeight:n.itemHeight,defaultIndex:i.defaultIndex||n.defaultIndex,visibleItemCount:n.visibleItemCount,initialOptions:n.simple?i:i.values},on:{change:function(){n.onChange(e)}}})}),t("div",{class:I("mask"),style:u}),t("div",{class:["van-hairline--top-bottom",I("frame")],style:a})]),"bottom"===this.toolbarPosition?l:t()])}})},vwLT:function(t,n,i){"use strict";i.d(n,"a",function(){return s});var e=10;var s={data:function(){return{direction:""}},methods:{touchStart:function(t){this.resetTouchStatus(),this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY},touchMove:function(t){var n,i,s=t.touches[0];this.deltaX=s.clientX-this.startX,this.deltaY=s.clientY-this.startY,this.offsetX=Math.abs(this.deltaX),this.offsetY=Math.abs(this.deltaY),this.direction=this.direction||(n=this.offsetX,i=this.offsetY,n>i&&n>e?"horizontal":i>n&&i>e?"vertical":"")},resetTouchStatus:function(){this.direction="",this.deltaX=0,this.deltaY=0,this.offsetX=0,this.offsetY=0}}}},xZ71:function(t,n){}});